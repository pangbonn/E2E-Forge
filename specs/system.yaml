system:
  name: expense-tracker
  description: >
    ระบบจัดการรายรับรายจ่ายส่วนบุคคล
    รองรับการบันทึก วิเคราะห์ และตรวจสอบข้อมูลทางการเงิน

actors:
  - user
  - admin

core_rules:
  - users_can_only_access_own_data
  - all_amounts_must_be_positive_number
  - every_transaction_must_have_category
  - transactions_are_immutable_after_posted

entities:
  User:
    fields: [id, email, role]
  Transaction:
    fields:
      - id
      - user_id
      - type        # income | expense
      - amount
      - category
      - note
      - occurred_at
      - created_at
  Category:
    fields: [id, name, type]

non_functional:
  security:
    auth: jwt
    data_isolation: per_user
  audit:
    log_all_create_update_delete

  ui:
    platforms:
      - web
      - mobile
      - pwa
    framework:
      css:
        - tailwindcss
        - daisyui
    requirements:
      - responsive_design
      - mobile_first
      - touch_friendly
    pwa:
      offline_read: true
      offline_write: false
      installable: true
      manifest_required: true
      service_worker_required: true
